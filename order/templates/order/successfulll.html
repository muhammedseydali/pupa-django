{% extends 'store/base.html' %}
{% load static %}

{% block container %}
    <div class="row justify-content-center mt-5">
        <div class="col-md-8 cart_info">
            <!-- Add a logo at the top -->
            <div class="text-center mb-4">
                <img src="{% static 'images/logo.png' %}" alt="Logo" class="img-fluid" style="max-width: 150px;">
            </div>

            <div class="successful-order text-center">
                <i class="fa fa-check-circle text-success" style="font-size: 4rem;"></i>
                <h3 class="page-header mt-3">Thank you for your purchase!</h3>
                <p class="lead">Your order has been successfully placed.</p>
            </div>

            <!-- Order Details in a Table -->
            <div class="ordered-info mt-4">
                <table class="table table-striped table-bordered">
                    <thead class="thead-dark">
                        <tr>
                            <th colspan="2" class="text-center">Order Summary</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>Order ID</th>
                            <td>#2018{{ order.id }}</td>
                        </tr>
                        <tr>
                            <th>Books</th>
                            <td>
                                <ul class="list-unstyled">
                                    {% for item in order_items %}
                                        <li>{{ item.book.title }} ({{ item.quantity }}x)</li>
                                    {% endfor %}
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <th>Name</th>
                            <td>{{ order.name }}</td>
                        </tr>
                        <tr>
                            <th>Phone</th>
                            <td>{{ order.phone }}</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{ order.email }}</td>
                        </tr>
                        <tr>
                            <th>Account No</th>
                            <td>{{ order.account_no }}</td>
                        </tr>
                        <tr>
                            <th>Payment Method</th>
                            <td>{{ order.payment_method }}</td>
                        </tr>
                        <tr>
                            <th>Shipping Address</th>
                            <td>{{ order.division }}:{{ order.zip_code }}, {{ order.district }}, {{ order.address }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Download PDF button -->
            <div class="text-center mt-4">
                <a href="{% url 'order:pdf' id=order.id %}" class="btn btn-primary btn-lg">
                    <i class="fa fa-download" aria-hidden="true"></i> Download Invoice
                </a>
            </div>
        </div>
    </div>
{% endblock %}
